[
    {
        "name": "EscapeCounter",
        "trigger": "turn_change",
        "level_nid": "1",
        "condition": "v(\"canEscape\") == True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "# Increment counter",
            "inc_level_var;escapeCounter",
            "",
            "if;v(\"escapeCounter\") == 10",
            "    add_unit;211;0,14;immediate;closest;west",
            "    add_unit;209;0,13;immediate;closest;west",
            "    add_unit;212;26,10;immediate;closest;east",
            "    add_unit;210;26,9;immediate;closest;east",
            "end",
            "",
            "if;v(\"escapeCounter\") == 16",
            "    add_unit;213;6,16;immediate;stack;south",
            "    add_unit;216;6,16;immediate;stack;south",
            "    move_unit;213;8,16;normal;closest;no_block;no_follow",
            "    move_unit;216;9,17;normal;closest;no_block;no_follow",
            "    ",
            "    add_unit;214;26,20;immediate;closest;east",
            "    add_unit;217;26,21;immediate;stack;east",
            "    move_unit;217;25,21;normal;closest;no_block;no_follow",
            "    add_unit;215;26,22;immediate;closest;east",
            "end",
            "",
            "if;v(\"escapeCounter\") == 24 and game.check_alive('Wraith') == True",
            "    disp_cursor;false",
            "    center_cursor;Wraith",
            "    flicker_cursor;Wraith",
            "    add_portrait;Wraith;Right",
            "    speak;Wraith;I tireee of these gamesss{tgm}...{tgm} Your livesss end nowww{tgm}...{tgm};;;noir",
            "    change_ai;Wraith;PursueZekeSky",
            "end"
        ],
        "nid": "1 EscapeCounter"
    }
]